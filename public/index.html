<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sora2 Imagine - AI ç”Ÿæˆå™¨</title>
    <link rel="icon" type="image/png" href="https://restname.oss-cn-hangzhou.aliyuncs.com/202510301728294.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            overflow-x: hidden;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: #141414;
            border-right: 1px solid #2a2a2a;
            padding: 1.5rem;
            z-index: 1000;
            overflow-y: auto;
        }
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }
        .sidebar::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        .sidebar::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 3px;
        }

        /* Navigation */
        .nav-section {
            margin-bottom: 2rem;
        }
        .nav-section-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            color: #666;
            margin-bottom: 0.75rem;
            letter-spacing: 0.5px;
        }
        .nav-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
            color: #999;
        }
        .nav-item:hover {
            background: #1f1f1f;
            color: #fff;
        }
        .nav-item.active {
            background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
            color: #fff;
        }
        .nav-item i {
            width: 20px;
            margin-right: 0.75rem;
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
            padding: 2rem;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #2a2a2a;
        }
        .header-title {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Cards */
        .card {
            background: #141414;
            border: 1px solid #2a2a2a;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .card-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        .card-title i {
            margin-right: 0.5rem;
        }

        /* Inputs */
        .input-group {
            margin-bottom: 1.25rem;
        }
        .input-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: #ccc;
        }
        .input-field {
            width: 100%;
            padding: 0.75rem 1rem;
            background: #1a1a1a;
            border: 1px solid #2a2a2a;
            border-radius: 0.5rem;
            color: #fff;
            font-size: 0.9375rem;
            transition: all 0.2s;
        }
        .input-field:focus {
            outline: none;
            border-color: #8b5cf6;
            background: #0f0f0f;
        }
        .input-field::placeholder {
            color: #666;
        }
        textarea.input-field {
            resize: none;
            min-height: 120px;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 0.9375rem;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }
        .btn-primary {
            background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
            color: #fff;
        }
        .btn-primary:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .btn-secondary {
            background: #1a1a1a;
            border: 1px solid #2a2a2a;
            color: #fff;
        }
        .btn-secondary:hover {
            background: #2a2a2a;
        }
        .btn i {
            margin-right: 0.5rem;
        }

        /* Loading */
        .loading-spinner {
            border: 3px solid #2a2a2a;
            border-top: 3px solid #8b5cf6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Progress Bar */
        .progress-container {
            background: #1a1a1a;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-top: 1rem;
        }
        .progress-bar-outer {
            background: #2a2a2a;
            border-radius: 0.5rem;
            height: 8px;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        .progress-bar-inner {
            background: linear-gradient(90deg, #8b5cf6 0%, #6366f1 100%);
            height: 100%;
            transition: width 0.5s ease;
        }

        /* Media Container */
        .media-container {
            background: #0a0a0a;
            border-radius: 1rem;
            padding: 2rem;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #2a2a2a;
        }
        .media-container video,
        .media-container img {
            max-width: 100%;
            border-radius: 0.75rem;
        }

        /* Image Grid */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }
        .image-card {
            aspect-ratio: 1;
            overflow: hidden;
            border-radius: 0.75rem;
            position: relative;
            background: #1a1a1a;
            border: 1px solid #2a2a2a;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .image-card:hover {
            transform: scale(1.02);
        }
        .image-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Mode Sections */
        .mode-section {
            display: none;
        }
        .mode-section.active {
            display: block;
        }

        /* Utilities */
        .hidden {
            display: none !important;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Tooltip Styles */
        .tooltip-wrapper {
            position: relative;
            display: inline-block;
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            white-space: nowrap;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
            pointer-events: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tooltip.show {
            opacity: 1;
            visibility: visible;
        }

        .tooltip::after {
            content: '';
            position: absolute;
            border-width: 5px;
            border-style: solid;
            border-color: transparent;
        }

        .tooltip.top {
            bottom: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
        }

        .tooltip.top::after {
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border-top-color: rgba(0, 0, 0, 0.9);
        }

        .tooltip.bottom {
            top: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
        }

        .tooltip.bottom::after {
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            border-bottom-color: rgba(0, 0, 0, 0.9);
        }

        .tooltip.left {
            right: calc(100% + 10px);
            top: 50%;
            transform: translateY(-50%);
        }

        .tooltip.left::after {
            top: 50%;
            left: 100%;
            transform: translateY(-50%);
            border-left-color: rgba(0, 0, 0, 0.9);
        }

        .tooltip.right {
            left: calc(100% + 10px);
            top: 50%;
            transform: translateY(-50%);
        }

        .tooltip.right::after {
            top: 50%;
            right: 100%;
            transform: translateY(-50%);
            border-right-color: rgba(0, 0, 0, 0.9);
        }

        .tooltip-icon {
            color: #666;
            cursor: help;
            margin-left: 0.25rem;
            font-size: 0.875rem;
        }

        .tooltip-icon:hover {
            color: #3b82f6;
        }

        /* Tooltip with more content */
        .tooltip-content {
            max-width: 300px;
            white-space: normal;
            line-height: 1.4;
        }

        .tooltip-content ul {
            margin: 0.5rem 0;
            padding-left: 1rem;
        }

        .tooltip-content li {
            margin: 0.25rem 0;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <!-- Logo -->
        <div style="margin-bottom: 2rem;">
            <div style="display: flex; align-items: center;">
                <img src="https://api.maynor1024.live/logo.png" alt="Sora2 Imagine Logo" style="width: 2.5rem; height: 2.5rem; margin-right: 0.75rem; object-fit: contain;" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iMTAiIGZpbGw9InVybCgjZ3JhZDApIi8+CjxwYXRoIGQ9Ik0yMCAxMkMxNS41IDEyIDEyIDE1LjUgMTIgMjBDMTIgMjQuNSAxNS41IDI4IDIwIDI4QzI0LjUgMjggMjggMjQuNSAyOCAyMEMyOCAxNS41IDI0LjUgMTIgMjAgMTJaIiBmaWxsPSJ3aGl0ZSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJncmFkMCIgeDE9IjAiIHkxPSIwIiB4Mj0iNDAiIHkyPSI0MCI+CjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM2MzY2ZjEiLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjOGI1Y2Y2Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+';">
                <h1 style="font-size: 1.25rem; font-weight: 700;">Sora2 Imagine</h1>
            </div>
            <p style="font-size: 0.75rem; color: #666; margin-top: 0.25rem; margin-left: 3.25rem;">é™æ—¶å…è´¹ä½¿ç”¨</p>
        </div>

        <!-- Video Tools -->
        <div class="nav-section">
            <div class="nav-section-title">è§†é¢‘å·¥å…·</div>
            <div class="nav-item active" data-mode="text-to-video">
                <i class="fas fa-video"></i>
                <span>æ–‡æœ¬è½¬è§†é¢‘</span>
            </div>
            <div class="nav-item" data-mode="image-to-video">
                <i class="fas fa-image"></i>
                <span>å›¾åƒè½¬è§†é¢‘</span>
            </div>
        </div>

        <!-- Image Tools -->
        <div class="nav-section">
            <div class="nav-section-title">å›¾åƒå·¥å…·</div>
            <div class="nav-item" data-mode="text-to-image">
                <i class="fas fa-paintbrush"></i>
                <span>æ–‡æœ¬è½¬å›¾åƒ</span>
            </div>
            <div class="nav-item" data-mode="image-edit">
                <i class="fas fa-magic"></i>
                <span>å›¾åƒè½¬å›¾åƒ</span>
            </div>
        </div>

        <!-- Character Tools -->
        <div class="nav-section">
            <div class="nav-section-title">è§’è‰²å·¥å…·</div>
            <div class="nav-item" data-mode="character-create">
                <i class="fas fa-user-plus"></i>
                <span>åˆ›å»ºè§’è‰²</span>
            </div>
            <div class="nav-item" data-mode="character-video">
                <i class="fas fa-film"></i>
                <span>è§’è‰²è§†é¢‘</span>
            </div>
            <div class="nav-item" data-mode="character-list">
                <i class="fas fa-users"></i>
                <span>æˆ‘çš„è§’è‰²</span>
            </div>
        </div>

        <!-- Settings -->
        <div class="nav-section">
            <div class="nav-section-title">å…¶ä»–</div>
            <div class="nav-item" id="settingsBtn">
                <i class="fas fa-cog"></i>
                <span>è®¾ç½®</span>
            </div>
            <div class="nav-item" id="helpBtn" onclick="window.startOnboarding && window.startOnboarding()">
                <i class="fas fa-question-circle"></i>
                <span>ä½¿ç”¨å¸®åŠ©</span>
            </div>
        </div>

        <!-- Quick Start Guide -->
        <div style="margin-top: auto; padding-top: 1.5rem; border-top: 1px solid #2a2a2a;">
            <div style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(99, 102, 241, 0.1) 100%); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 0.75rem; padding: 1rem;">
                <div style="font-size: 0.75rem; font-weight: 600; color: #a78bfa; margin-bottom: 0.5rem;">
                    <i class="fas fa-rocket" style="margin-right: 0.5rem;"></i>å¿«é€Ÿå¼€å§‹
                </div>
                <div style="font-size: 0.75rem; color: #9ca3af; line-height: 1.5;">
                    1. è¾“å…¥æè¿°æ–‡å­—<br>
                    2. é€‰æ‹©æ¨¡å‹å‚æ•°<br>
                    3. ç‚¹å‡»ç”ŸæˆæŒ‰é’®
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Text to Video Section -->
        <div id="text-to-video-section" class="mode-section active">
            <div class="header">
                <h1 class="header-title">æ–‡æœ¬ç”Ÿæˆè§†é¢‘</h1>
            </div>

            <div class="card">
                <div class="card-title">
                    <i class="fas fa-pen"></i>
                    <span>è§†é¢‘æè¿°</span>
                    <div class="tooltip-wrapper" style="margin-left: 0.5rem;">
                        <i class="fas fa-lightbulb tooltip-icon" style="color: #fbbf24;"></i>
                        <div class="tooltip bottom tooltip-content">
                            <strong>ğŸ“ æè¿°æŠ€å·§ï¼š</strong><br>
                            <ul style="margin: 0.5rem 0; padding-left: 1rem;">
                                <li>æè¿°ä¸»ä½“ï¼šè°/ä»€ä¹ˆåœ¨ç”»é¢ä¸­</li>
                                <li>æè¿°åŠ¨ä½œï¼šæ­£åœ¨åšä»€ä¹ˆ</li>
                                <li>æè¿°ç¯å¢ƒï¼šåœ¨å“ªé‡Œã€ä»€ä¹ˆæ—¶é—´</li>
                                <li>æè¿°æ°›å›´ï¼šå…‰çº¿ã€è‰²è°ƒã€æƒ…ç»ª</li>
                            </ul>
                            <span style="color: #22c55e;">è¶Šè¯¦ç»†æ•ˆæœè¶Šå¥½ï¼</span>
                        </div>
                    </div>
                </div>
                <form id="videoForm">
                    <div class="input-group">
                        <label class="input-label">æè¿°æ‚¨æƒ³è¦çš„è§†é¢‘å†…å®¹</label>
                        <textarea id="videoPrompt" class="input-field" placeholder="ä¾‹å¦‚: ä¸€åªå¯çˆ±çš„å°çŒ«åœ¨è‰åœ°ä¸Šç©è€ï¼Œé˜³å…‰æ˜åªšï¼Œè´è¶é£èˆ..."></textarea>
                        <div style="display: flex; justify-content: space-between; margin-top: 0.5rem;">
                            <span style="font-size: 0.75rem; color: #666;">ğŸ’¡ æç¤ºï¼šæè¿°è¶Šè¯¦ç»†ï¼Œç”Ÿæˆæ•ˆæœè¶Šå¥½</span>
                            <span id="promptCharCount" style="font-size: 0.75rem; color: #666;">0 å­—</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label class="input-label">é€‰æ‹©æ¨¡å‹</label>
                        <select id="modelSelect" class="input-field">
                            <option value="sora_video2">Sora-2 æ¨ªå± 10ç§’ (æ¨è)</option>
                            <option value="sora_video2-portrait">Sora-2 ç«–å± 10ç§’</option>
                            <option value="sora_video2-landscape-15s">Sora-2-Pro æ¨ªå± 15ç§’</option>
                            <option value="sora_video2-portrait-15s">Sora-2-Pro ç«–å± 15ç§’</option>
                            <option value="sora_video2-landscape-25s">Sora-2-Pro æ¨ªå± 25ç§’</option>
                            <option value="sora_video2-portrait-25s">Sora-2-Pro ç«–å± 25ç§’</option>
                        </select>
                    </div>

                    <div style="display: flex; gap: 0.75rem;">
                        <button type="submit" id="generateBtn" class="btn btn-primary" style="flex: 1;">
                            <i class="fas fa-play"></i>
                            <span>ç”Ÿæˆè§†é¢‘</span>
                        </button>
                        <button type="button" id="resetBtn" class="btn btn-secondary">
                            <i class="fas fa-redo"></i>
                            <span>é‡ç½®</span>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Video Display -->
            <div class="card">
                <div class="card-title">
                    <i class="fas fa-film"></i>
                    <span>ç”Ÿæˆçš„è§†é¢‘</span>
                </div>
                <div id="videoContainer" class="media-container">
                    <div style="text-align: center; color: #666; max-width: 400px;">
                        <div style="width: 80px; height: 80px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(99, 102, 241, 0.2) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-video" style="font-size: 2rem; color: #8b5cf6;"></i>
                        </div>
                        <p style="font-size: 1.125rem; color: #fff; margin-bottom: 0.5rem;">å‡†å¤‡ç”Ÿæˆä½ çš„ç¬¬ä¸€ä¸ªè§†é¢‘</p>
                        <p style="font-size: 0.875rem; color: #9ca3af; margin-bottom: 1.5rem;">åœ¨ä¸Šæ–¹è¾“å…¥è¯¦ç»†çš„åœºæ™¯æè¿°ï¼ŒAI å°†ä¸ºä½ åˆ›ä½œç²¾å½©è§†é¢‘</p>
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center;">
                            <span style="background: #1f1f1f; padding: 0.375rem 0.75rem; border-radius: 1rem; font-size: 0.75rem; color: #9ca3af; cursor: pointer;" onclick="document.getElementById('videoPrompt').value='ä¸€åªå¯çˆ±çš„å°çŒ«åœ¨é˜³å…‰ä¸‹çš„è‰åœ°ä¸Šç©è€ï¼Œè´è¶åœ¨å‘¨å›´é£èˆ'; document.getElementById('videoPrompt').focus();">ğŸ± å°çŒ«ç©è€</span>
                            <span style="background: #1f1f1f; padding: 0.375rem 0.75rem; border-radius: 1rem; font-size: 0.75rem; color: #9ca3af; cursor: pointer;" onclick="document.getElementById('videoPrompt').value='å®‡å®™ä¸­ä¸€é¢—è“è‰²æ˜Ÿçƒç¼“ç¼“æ—‹è½¬ï¼Œæ˜Ÿå…‰é—ªçƒ'; document.getElementById('videoPrompt').focus();">ğŸŒ å®‡å®™æ˜Ÿçƒ</span>
                            <span style="background: #1f1f1f; padding: 0.375rem 0.75rem; border-radius: 1rem; font-size: 0.75rem; color: #9ca3af; cursor: pointer;" onclick="document.getElementById('videoPrompt').value='æ¨±èŠ±æ ‘ä¸‹ï¼ŒèŠ±ç“£éšé£é£˜è½ï¼Œé˜³å…‰é€è¿‡æ ‘å¶æ´’ä¸‹æ–‘é©³å…‰å½±'; document.getElementById('videoPrompt').focus();">ğŸŒ¸ æ¨±èŠ±é£˜è½</span>
                        </div>
                        <p style="font-size: 0.75rem; color: #666; margin-top: 1rem;">ğŸ‘† ç‚¹å‡»ç¤ºä¾‹å¿«é€Ÿå¡«å……</p>
                    </div>
                </div>

                <!-- Progress -->
                <div id="progressIndicator" class="hidden progress-container">
                    <div class="progress-bar-outer">
                        <div id="progressBar" class="progress-bar-inner" style="width: 0%"></div>
                    </div>
                    <p id="statusText" style="color: #999; font-size: 0.875rem; margin-bottom: 0.5rem;">å¤„ç†ä¸­...</p>
                    <p id="elapsedTime" style="color: #666; font-size: 0.75rem;"></p>
                    <p id="estimatedTime" style="color: #666; font-size: 0.75rem;"></p>
                </div>

                <!-- Video Player -->
                <div id="videoPlayer" class="hidden" style="margin-top: 1rem; text-align: center;">
                    <div style="max-width: 800px; margin: 0 auto;">
                        <video id="generatedVideo" controls style="width: 100%; max-height: 60vh; border-radius: 0.75rem; background: #000; object-fit: contain;"></video>
                        <div style="display: flex; gap: 0.75rem; margin-top: 1rem;">
                            <button id="downloadBtn" class="btn btn-secondary" style="flex: 1;">
                                <i class="fas fa-download"></i>
                                <span>ä¸‹è½½</span>
                            </button>
                            <button id="shareBtn" class="btn btn-secondary" style="flex: 1;">
                                <i class="fas fa-share"></i>
                                <span>åˆ†äº«</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Image to Video Section -->
        <div id="image-to-video-section" class="mode-section">
            <div class="header">
                <h1 class="header-title">å›¾åƒè½¬è§†é¢‘</h1>
            </div>

            <div class="card">
                <div class="card-title">
                    <i class="fas fa-image"></i>
                    <span>ä¸Šä¼ å›¾åƒ</span>
                </div>
                <div style="border: 2px dashed #2a2a2a; border-radius: 0.75rem; padding: 2rem; text-align: center; cursor: pointer; transition: all 0.2s;" onclick="document.getElementById('imageUpload').click()">
                    <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; color: #666; margin-bottom: 1rem;"></i>
                    <p style="color: #999;">ç‚¹å‡»ä¸Šä¼ å›¾åƒ</p>
                    <p style="color: #666; font-size: 0.875rem; margin-top: 0.5rem;">æ”¯æŒ JPG, PNG, GIF</p>
                </div>
                <input type="file" id="imageUpload" accept="image/*" class="hidden" />

                <div id="imagePreview" class="hidden" style="margin-top: 1rem;">
                    <img id="previewImg" style="max-height: 300px; border-radius: 0.75rem; margin-bottom: 1rem;" />
                    <button id="removeImage" class="btn btn-secondary">
                        <i class="fas fa-times"></i>
                        <span>ç§»é™¤å›¾åƒ</span>
                    </button>
                </div>

                <div class="input-group" style="margin-top: 1.5rem;">
                    <label class="input-label">æè¿°å›¾åƒåº”è¯¥å¦‚ä½•åŠ¨èµ·æ¥</label>
                    <textarea id="imageVideoPrompt" class="input-field" placeholder="ä¾‹å¦‚: è®©è¿™å¼ å›¾ç‰‡ä¸­çš„åœºæ™¯åŠ¨èµ·æ¥ï¼Œæ·»åŠ è‡ªç„¶çš„è¿åŠ¨æ•ˆæœ..."></textarea>
                </div>

                <button type="button" id="generateImageVideoBtn" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-play"></i>
                    <span>ç”Ÿæˆè§†é¢‘</span>
                </button>
            </div>

            <!-- Video Display -->
            <div class="card">
                <div class="card-title">
                    <i class="fas fa-film"></i>
                    <span>ç”Ÿæˆçš„è§†é¢‘</span>
                </div>
                <div id="imageVideoContainer" class="media-container">
                    <div style="text-align: center; color: #666; max-width: 400px;">
                        <div style="width: 80px; height: 80px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(99, 102, 241, 0.2) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-video" style="font-size: 2rem; color: #8b5cf6;"></i>
                        </div>
                        <p style="font-size: 1.125rem; color: #fff; margin-bottom: 0.5rem;">å‡†å¤‡è®©å›¾ç‰‡åŠ¨èµ·æ¥</p>
                        <p style="font-size: 0.875rem; color: #9ca3af; margin-bottom: 1.5rem;">ä¸Šä¼ å›¾ç‰‡å¹¶æè¿°åŠ¨ä½œï¼ŒAI å°†ä¸ºä½ åˆ›ä½œåŠ¨æ€è§†é¢‘</p>
                    </div>
                </div>

                <!-- Progress -->
                <div id="imageVideoProgressIndicator" class="hidden progress-container">
                    <div class="progress-bar-outer">
                        <div id="imageVideoProgressBar" class="progress-bar-inner" style="width: 0%"></div>
                    </div>
                    <p id="imageVideoStatusText" style="color: #999; font-size: 0.875rem; margin-bottom: 0.5rem;">å¤„ç†ä¸­...</p>
                    <p id="imageVideoElapsedTime" style="color: #666; font-size: 0.75rem;"></p>
                    <p id="imageVideoEstimatedTime" style="color: #666; font-size: 0.75rem;"></p>
                </div>

                <!-- Video Player -->
                <div id="imageVideoPlayer" class="hidden" style="margin-top: 1rem; text-align: center;">
                    <div style="max-width: 800px; margin: 0 auto;">
                        <video id="imageGeneratedVideo" controls style="width: 100%; max-height: 60vh; border-radius: 0.75rem; background: #000; object-fit: contain;"></video>
                        <div style="display: flex; gap: 0.75rem; margin-top: 1rem;">
                            <button id="imageVideoDownloadBtn" class="btn btn-secondary" style="flex: 1;">
                                <i class="fas fa-download"></i>
                                <span>ä¸‹è½½</span>
                            </button>
                            <button id="imageVideoShareBtn" class="btn btn-secondary" style="flex: 1;">
                                <i class="fas fa-share"></i>
                                <span>åˆ†äº«</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Text to Image Section -->
        <div id="text-to-image-section" class="mode-section">
            <div class="header">
                <h1 class="header-title">æ–‡æœ¬ç”Ÿæˆå›¾åƒ</h1>
            </div>

            <div class="card">
                <form id="textToImageForm">
                    <div class="input-group">
                        <label class="input-label">å›¾åƒæè¿°</label>
                        <textarea id="imagePrompt" class="input-field" placeholder="è¯¦ç»†æè¿°æ‚¨æƒ³è¦ç”Ÿæˆçš„å›¾åƒ..."></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="input-group">
                            <label class="input-label">å›¾åƒå°ºå¯¸</label>
                            <select id="imageSize" class="input-field">
                                <option value="1024x1024">1024Ã—1024</option>
                                <option value="1024x768">1024Ã—768</option>
                                <option value="768x1024">768Ã—1024</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <label class="input-label">ç”Ÿæˆæ•°é‡</label>
                            <select id="numImages" class="input-field">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="4">4</option>
                            </select>
                        </div>
                    </div>

                    <div class="input-group">
                        <label class="input-label">æ¨¡å‹é€‰æ‹©</label>
                        <select id="imageModel" class="input-field">
                            <option value="sora_image">Sora Image</option>
                            <option value="dall-e-3">DALL-E 3</option>
                            <option value="flux">Flux</option>
                        </select>
                    </div>

                    <button type="submit" id="generateImageBtn" class="btn btn-primary" style="width: 100%;">
                        <i class="fas fa-magic"></i>
                        <span>ç”Ÿæˆå›¾åƒ</span>
                    </button>
                </form>
            </div>

            <!-- Image Results -->
            <div class="card">
                <div class="card-title">
                    <i class="fas fa-images"></i>
                    <span>ç”Ÿæˆçš„å›¾åƒ</span>
                </div>
                <div id="imageResults">
                    <div style="text-align: center; color: #666; padding: 3rem 0;">
                        <div style="width: 80px; height: 80px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, rgba(236, 72, 153, 0.2) 0%, rgba(139, 92, 246, 0.2) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-image" style="font-size: 2rem; color: #ec4899;"></i>
                        </div>
                        <p style="font-size: 1.125rem; color: #fff; margin-bottom: 0.5rem;">åˆ›ä½œä½ çš„ AI è‰ºæœ¯ä½œå“</p>
                        <p style="font-size: 0.875rem; color: #9ca3af; margin-bottom: 1.5rem;">æè¿°ä½ æƒ³è±¡ä¸­çš„ç”»é¢ï¼ŒAI å°†ä¸ºä½ ç»˜åˆ¶</p>
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center; max-width: 400px; margin: 0 auto;">
                            <span style="background: #1f1f1f; padding: 0.375rem 0.75rem; border-radius: 1rem; font-size: 0.75rem; color: #9ca3af; cursor: pointer;" onclick="document.getElementById('imagePrompt').value='ä¸€åº§æ¼‚æµ®åœ¨äº‘ç«¯çš„æ¢¦å¹»åŸå ¡ï¼Œå¤•é˜³è¥¿ä¸‹ï¼Œé‡‘è‰²å…‰èŠ’æ´’æ»¡å¤©ç©º'; document.getElementById('imagePrompt').focus();">ğŸ° æ¢¦å¹»åŸå ¡</span>
                            <span style="background: #1f1f1f; padding: 0.375rem 0.75rem; border-radius: 1rem; font-size: 0.75rem; color: #9ca3af; cursor: pointer;" onclick="document.getElementById('imagePrompt').value='èµ›åšæœ‹å…‹é£æ ¼çš„æœªæ¥åŸå¸‚å¤œæ™¯ï¼Œéœ“è™¹ç¯é—ªçƒï¼Œé›¨æ°´å€’æ˜ ç€ç¯å…‰'; document.getElementById('imagePrompt').focus();">ğŸŒƒ èµ›åšåŸå¸‚</span>
                            <span style="background: #1f1f1f; padding: 0.375rem 0.75rem; border-radius: 1rem; font-size: 0.75rem; color: #9ca3af; cursor: pointer;" onclick="document.getElementById('imagePrompt').value='æ°´å½©é£æ ¼çš„æ£®æ—å°å±‹ï¼Œé˜³å…‰é€è¿‡æ ‘å¶ï¼Œå°æºªæ½ºæ½ºæµè¿‡'; document.getElementById('imagePrompt').focus();">ğŸ¡ æ£®æ—å°å±‹</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Image Edit Section -->
        <div id="image-edit-section" class="mode-section">
            <div class="header">
                <h1 class="header-title">å›¾åƒè½¬å›¾åƒ</h1>
            </div>

            <div class="card">
                <form id="imageEditForm">
                    <div class="input-group">
                        <label class="input-label">ä¸Šä¼ åŸå§‹å›¾åƒ</label>
                        <div style="border: 2px dashed #2a2a2a; border-radius: 0.75rem; padding: 2rem; text-align: center; cursor: pointer;" onclick="document.getElementById('editImageUpload').click()">
                            <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; color: #666; margin-bottom: 1rem;"></i>
                            <p style="color: #999;">ç‚¹å‡»ä¸Šä¼ å›¾åƒ</p>
                        </div>
                        <input type="file" id="editImageUpload" accept="image/*" class="hidden" />

                        <div id="editImagePreview" class="hidden" style="margin-top: 1rem;">
                            <img id="editPreviewImg" style="max-height: 300px; border-radius: 0.75rem;" />
                        </div>
                    </div>

                    <div class="input-group">
                        <label class="input-label">å¿«æ·ä¸»é¢˜é€‰æ‹©</label>
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1rem;">
                            <button type="button" class="style-preset-btn" data-style="æ°´å½©å†™å®" style="padding: 0.5rem 1rem; background: #1a1a1a; border: 1px solid #2a2a2a; border-radius: 0.5rem; color: #999; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">æ°´å½©å†™å®</button>
                            <button type="button" class="style-preset-btn" data-style="æ²¹ç”»å†™å®" style="padding: 0.5rem 1rem; background: #1a1a1a; border: 1px solid #2a2a2a; border-radius: 0.5rem; color: #999; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">æ²¹ç”»å†™å®</button>
                            <button type="button" class="style-preset-btn" data-style="å·¥ç¬”é‡å½©" style="padding: 0.5rem 1rem; background: #1a1a1a; border: 1px solid #2a2a2a; border-radius: 0.5rem; color: #999; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">å·¥ç¬”é‡å½©</button>
                            <button type="button" class="style-preset-btn" data-style="ä¸™çƒ¯å†™å®" style="padding: 0.5rem 1rem; background: #1a1a1a; border: 1px solid #2a2a2a; border-radius: 0.5rem; color: #999; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">ä¸™çƒ¯å†™å®</button>
                            <button type="button" class="style-preset-btn" data-style="æ²¹ç”»é£æ ¼äººç‰©" style="padding: 0.5rem 1rem; background: #1a1a1a; border: 1px solid #2a2a2a; border-radius: 0.5rem; color: #999; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">æ²¹ç”»é£æ ¼äººç‰©</button>
                            <button type="button" class="style-preset-btn" data-style="æ°´å½©ç”»äººç‰©" style="padding: 0.5rem 1rem; background: #1a1a1a; border: 1px solid #2a2a2a; border-radius: 0.5rem; color: #999; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">æ°´å½©ç”»äººç‰©</button>
                            <button type="button" class="style-preset-btn" data-style="ç´ æ/é€Ÿå†™äººç‰©" style="padding: 0.5rem 1rem; background: #1a1a1a; border: 1px solid #2a2a2a; border-radius: 0.5rem; color: #999; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">ç´ æ/é€Ÿå†™</button>
                            <button type="button" class="style-preset-btn" data-style="é›•å¡‘/çŸ³åƒ" style="padding: 0.5rem 1rem; background: #1a1a1a; border: 1px solid #2a2a2a; border-radius: 0.5rem; color: #999; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">é›•å¡‘/çŸ³åƒ</button>
                            <button type="button" class="style-preset-btn" data-style="å‰ªå½±/è½®å»“" style="padding: 0.5rem 1rem; background: #1a1a1a; border: 1px solid #2a2a2a; border-radius: 0.5rem; color: #999; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">å‰ªå½±/è½®å»“</button>
                        </div>
                        <p style="font-size: 0.75rem; color: #666;">ç‚¹å‡»å¿«æ·ä¸»é¢˜å¿«é€Ÿå¡«å……ï¼Œæˆ–æ‰‹åŠ¨è¾“å…¥è‡ªå®šä¹‰é£æ ¼</p>
                    </div>

                    <div class="input-group">
                        <label class="input-label">è½¬æ¢æè¿°</label>
                        <textarea id="editPrompt" class="input-field" placeholder="ä¾‹å¦‚: æ²¹ç”»é£æ ¼ã€æ°´å½©ç”»é£æ ¼ã€åŠ¨æ¼«é£æ ¼..."></textarea>
                    </div>

                    <button type="submit" id="editImageBtn" class="btn btn-primary" style="width: 100%;">
                        <i class="fas fa-edit"></i>
                        <span>è½¬æ¢å›¾åƒ</span>
                    </button>
                </form>
            </div>

            <!-- Edit Results -->
            <div class="card">
                <div class="card-title">
                    <i class="fas fa-images"></i>
                    <span>è½¬æ¢åçš„å›¾åƒ</span>
                </div>
                <div id="editResults">
                    <div style="text-align: center; color: #666; padding: 3rem 0;">
                        <div style="width: 80px; height: 80px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-magic" style="font-size: 2rem; color: #22c55e;"></i>
                        </div>
                        <p style="font-size: 1.125rem; color: #fff; margin-bottom: 0.5rem;">é£æ ¼è½¬æ¢é­”æ³•</p>
                        <p style="font-size: 0.875rem; color: #9ca3af; margin-bottom: 1rem;">ä¸Šä¼ å›¾ç‰‡ï¼Œé€‰æ‹©è‰ºæœ¯é£æ ¼ï¼Œä¸€é”®è½¬æ¢</p>
                        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                            <div style="text-align: center;">
                                <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); border-radius: 0.5rem; margin-bottom: 0.5rem; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-palette" style="color: #fff; font-size: 1.5rem;"></i>
                                </div>
                                <span style="font-size: 0.75rem; color: #9ca3af;">æ²¹ç”»é£æ ¼</span>
                            </div>
                            <div style="text-align: center;">
                                <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%); border-radius: 0.5rem; margin-bottom: 0.5rem; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-water" style="color: #fff; font-size: 1.5rem;"></i>
                                </div>
                                <span style="font-size: 0.75rem; color: #9ca3af;">æ°´å½©é£æ ¼</span>
                            </div>
                            <div style="text-align: center;">
                                <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%); border-radius: 0.5rem; margin-bottom: 0.5rem; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-pencil-alt" style="color: #fff; font-size: 1.5rem;"></i>
                                </div>
                                <span style="font-size: 0.75rem; color: #9ca3af;">ç´ æé£æ ¼</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Character Create Section -->
        <div id="character-create-section" class="mode-section">
            <div class="header">
                <h1 class="header-title">åˆ›å»ºè§’è‰²</h1>
            </div>

            <div class="card">
                <div class="card-title">
                    <i class="fas fa-video"></i>
                    <span>ä¸Šä¼ è§’è‰²è§†é¢‘</span>
                    <div class="tooltip-wrapper">
                        <i class="fas fa-question-circle tooltip-icon"></i>
                        <div class="tooltip top tooltip-content">
                            <strong>è§’è‰²è§†é¢‘è¦æ±‚ï¼š</strong><br>
                            <ul>
                                <li>â€¢ æ”¯æŒ MP4ã€AVIã€MOV æ ¼å¼</li>
                                <li>â€¢ è§†é¢‘æ—¶é•¿å»ºè®® 5-30 ç§’</li>
                                <li>â€¢ <strong style="color: #f87171;">âš ï¸ ä¸èƒ½å‡ºç°çœŸäºº</strong></li>
                                <li>â€¢ è§’è‰²è¦æ¸…æ™°å¯è§</li>
                                <li>â€¢ æ¨èåŠ¨ç”»ã€å¡é€šã€è™šæ‹Ÿè§’è‰²</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- è§†é¢‘ URL è¾“å…¥ -->
                <div class="input-group" style="margin-bottom: 1rem;">
                    <label class="input-label">
                        è§†é¢‘ URLï¼ˆæ¨èï¼‰
                        <div class="tooltip-wrapper">
                            <i class="fas fa-info-circle tooltip-icon"></i>
                            <div class="tooltip right tooltip-content">
                                <strong>ä½¿ç”¨å…¬å¼€è§†é¢‘ URLï¼š</strong><br>
                                â€¢ è¾“å…¥å¯å…¬å¼€è®¿é—®çš„è§†é¢‘é“¾æ¥<br>
                                â€¢ é»˜è®¤ä½¿ç”¨æµ‹è¯•è§†é¢‘<br>
                                â€¢ ä¸Šä¼ çš„æœ¬åœ°è§†é¢‘æ— æ³•è¢« API è®¿é—®
                            </div>
                        </div>
                    </label>
                    <input 
                        type="text" 
                        id="characterVideoUrl" 
                        class="input-field" 
                        placeholder="https://example.com/video.mp4"
                        value="https://8416963274f2331f023308de32d91f68.v.smtcdns.com/om.tc.qq.com/Z_ClRTIi23tqalasKzlu_YR0fWng9Xv04u3ZGbIL70Lg2pjIkRZgEtx6xOkqOKa97ojTaSHb-vcwLdCd0j11Hve7-mOJ3pCzeJ587f_VNZS_1_JUu0IRxv9sUqVxsjOIGV/B_fXrb0otmtGHxqhZ5HYDTdv_50IatG_R7x3ILiYm6X5VFqRz4QmhKVVPzQa_5vJcG2yKUH4FMFYsyjV6qpALwP5_38uMbkWXWqYv9o9WHb-019rb6ZA47pLsE1EwuiT1jEFVCF7MKD6OZg27oYWZplg/svp_50200/njc_1000195_0bc33ucpiaaeryak6n4w6zrrzxoe6toqj5ca.f2.mp4?vkey=FC96EF88E0E6F55D9AA0DF91DE59809BC1614ACA08C4148881D84771CD81FC5C855570960EC0C2198AE9A006258A79F4DDFA21B893B6405F704950407986C7F1A5742B6CD0D2FF3C643B13CE4BA1DC5BFADE662D9293180B331381FF449B0CA77011EC34DC5763BCCFDC60922B9C89852ED9578767799C1164D92874E7A9E03ECF05AB6CA20D566B"
                    >
                    <p style="color: #666; font-size: 0.75rem; margin-top: 0.5rem;">
                        ğŸ’¡ ç•™ç©ºä½¿ç”¨é»˜è®¤æµ‹è¯•è§†é¢‘ï¼Œæˆ–è¾“å…¥ä½ è‡ªå·±çš„å…¬å¼€è§†é¢‘ URL
                    </p>
                </div>

                <!-- æˆ–è€…ä¸Šä¼ æœ¬åœ°è§†é¢‘ï¼ˆä»…é¢„è§ˆç”¨ï¼‰ -->
                <div style="border: 2px dashed #2a2a2a; border-radius: 0.75rem; padding: 1.5rem; text-align: center; cursor: pointer; transition: all 0.2s;" onclick="document.getElementById('characterVideoUpload').click()">
                    <i class="fas fa-cloud-upload-alt" style="font-size: 2rem; color: #666; margin-bottom: 0.5rem;"></i>
                    <p style="color: #999; font-size: 0.875rem;">æˆ–ä¸Šä¼ æœ¬åœ°è§†é¢‘ï¼ˆä»…ç”¨äºé¢„è§ˆæ—¶é—´æˆ³ï¼‰</p>
                    <p style="color: #ff6b6b; font-size: 0.75rem; margin-top: 0.5rem;">âš ï¸ æœ¬åœ°è§†é¢‘æ— æ³•è¢« API è®¿é—®ï¼Œè¯·ä½¿ç”¨ä¸Šæ–¹çš„ URL è¾“å…¥</p>
                </div>
                <input type="file" id="characterVideoUpload" accept="video/*" class="hidden" />

                <div id="characterVideoPreview" class="hidden" style="margin-top: 1rem;">
                    <video id="characterPreviewVideo" controls style="max-width: 100%; max-height: 300px; border-radius: 0.75rem; margin-bottom: 1rem;"></video>
                    <button id="removeCharacterVideo" class="btn btn-secondary">
                        <i class="fas fa-times"></i>
                        <span>ç§»é™¤è§†é¢‘</span>
                    </button>
                </div>

                <div class="input-group" style="margin-top: 1.5rem;">
                    <label class="input-label">
                        è§’è‰²å‡ºç°æ—¶é—´èŒƒå›´
                        <div class="tooltip-wrapper">
                            <i class="fas fa-info-circle tooltip-icon"></i>
                            <div class="tooltip right tooltip-content">
                                <strong>æ—¶é—´è®¾ç½®æŠ€å·§ï¼š</strong><br>
                                <ul>
                                    <li>â€¢ é€‰æ‹© 1-3 ç§’çš„æ¸…æ™°ç‰‡æ®µ</li>
                                    <li>â€¢ è§’è‰²åº”è¯¥æ˜¯æ­£é¢æˆ–ä¾§é¢ç‰¹å†™</li>
                                    <li>â€¢ é¿å…æ¨¡ç³Šã€å¿«é€Ÿç§»åŠ¨çš„ç”»é¢</li>
                                    <li>â€¢ ç¡®ä¿è§’è‰²å®Œæ•´æ— é®æŒ¡</li>
                                    <li>â€¢ åœ¨è§†é¢‘é¢„è§ˆä¸­æ‰¾åˆ°æœ€ä½³ç”»é¢</li>
                                </ul>
                            </div>
                        </div>
                    </label>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div>
                            <input type="number" id="characterStartTime" class="input-field" placeholder="å¼€å§‹æ—¶é—´(ç§’)" min="0" value="1">
                        </div>
                        <div>
                            <input type="number" id="characterEndTime" class="input-field" placeholder="ç»“æŸæ—¶é—´(ç§’)" min="1" value="3">
                        </div>
                    </div>
                    <p style="color: #666; font-size: 0.75rem; margin-top: 0.5rem;">
                        â±ï¸ æ—¶é—´èŒƒå›´å·®å€¼å¿…é¡»åœ¨ 1-3 ç§’ä¹‹é—´
                    </p>
                </div>

                <button type="button" id="createCharacterBtn" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
                    <i class="fas fa-user-plus"></i>
                    <span>åˆ›å»ºè§’è‰²</span>
                </button>
            </div>

            <!-- Character Result -->
            <div class="card">
                <div class="card-title">
                    <i class="fas fa-user"></i>
                    <span>åˆ›å»ºç»“æœ</span>
                </div>
                <div id="characterResult">
                    <div style="text-align: center; color: #666; padding: 3rem 0;">
                        <i class="fas fa-user-plus" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                        <p>è¿˜æ²¡æœ‰åˆ›å»ºè§’è‰²</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Character Video Section -->
        <div id="character-video-section" class="mode-section">
            <div class="header">
                <h1 class="header-title">è§’è‰²è§†é¢‘ç”Ÿæˆ</h1>
            </div>

            <div class="card">
                <form id="characterVideoForm">
                    <div class="input-group">
                        <label class="input-label">
                            è§’è‰²é€‰æ‹©
                            <div class="tooltip-wrapper">
                                <i class="fas fa-question-circle tooltip-icon"></i>
                                <div class="tooltip right tooltip-content">
                                    <strong>è§’è‰²ä½¿ç”¨è¯´æ˜ï¼š</strong><br>
                                    <ul>
                                        <li>â€¢ ä»ä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©å·²åˆ›å»ºçš„è§’è‰²</li>
                                        <li>â€¢ æ¯ä¸ªè§’è‰²å¯ä»¥é‡å¤ä½¿ç”¨</li>
                                        <li>â€¢ è§’è‰²å°†ç”¨äºè§†é¢‘ç”Ÿæˆä¸­çš„ä¸»ä½“</li>
                                        <li>â€¢ ä¸åŒåœºæ™¯å¯ä½¿ç”¨ç›¸åŒè§’è‰²</li>
                                        <li>â€¢ æ²¡æœ‰è§’è‰²ï¼Ÿå…ˆå»"åˆ›å»ºè§’è‰²"</li>
                                    </ul>
                                </div>
                            </div>
                        </label>
                        <select id="characterSelect" class="input-field">
                            <option value="">ğŸ‘‡ è¯·é€‰æ‹©å·²åˆ›å»ºçš„è§’è‰²</option>
                        </select>
                        <div style="background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 0.5rem; padding: 0.75rem; margin-top: 0.5rem;">
                            <p style="color: #a78bfa; font-size: 0.75rem; margin: 0; line-height: 1.5;">
                                <strong>ğŸ’¡ ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š</strong><br>
                                <span style="color: #9ca3af;">
                                1ï¸âƒ£ <strong>æ¨è</strong>ï¼šåœ¨æè¿°ä¸­ç›´æ¥ä½¿ç”¨ <code style="background: rgba(0,0,0,0.3); padding: 0.125rem 0.25rem; border-radius: 0.25rem;">@username</code>ï¼ˆå¦‚ @samaï¼‰<br>
                                2ï¸âƒ£ ä»ä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©æœ¬åœ°åˆ›å»ºçš„è§’è‰²
                                </span>
                            </p>
                        </div>
                    </div>

                    <div class="input-group">
                        <label class="input-label">
                            è§†é¢‘æè¿°
                            <div class="tooltip-wrapper">
                                <i class="fas fa-lightbulb tooltip-icon"></i>
                                <div class="tooltip right tooltip-content">
                                    <strong>æè¿°æŠ€å·§ï¼š</strong><br>
                                    <ul>
                                        <li>â€¢ è¯¦ç»†æè¿°åœºæ™¯ã€åŠ¨ä½œã€ç¯å¢ƒ</li>
                                        <li>â€¢ åŒ…å«è§’è‰²çš„è¡¨æƒ…å’ŒåŠ¨ä½œ</li>
                                        <li>â€¢ æŒ‡å®šèƒŒæ™¯å’Œæ°›å›´</li>
                                        <li>â€¢ ç¤ºä¾‹ï¼š"å¼€å¿ƒçš„å¡é€šè§’è‰²åœ¨èŠ±å›­é‡Œè·³èˆ"</li>
                                        <li>â€¢ è¶Šè¯¦ç»†æ•ˆæœè¶Šå¥½</li>
                                    </ul>
                                </div>
                            </div>
                        </label>
                        <textarea id="characterVideoPrompt" class="input-field" placeholder="ä¾‹å¦‚ï¼šä¸€ä¸ªå¯çˆ±çš„å¡é€šè§’è‰²åœ¨äº”å½©æ–‘æ–“çš„èŠ±å›­é‡Œå¼€å¿ƒåœ°è·³èˆï¼Œå‘¨å›´æœ‰è´è¶é£èˆ..." rows="4"></textarea>
                        
                        <!-- é»˜è®¤è§’è‰²å¿«é€Ÿé€‰æ‹© -->
                        <div style="margin-top: 0.75rem;">
                            <p style="color: #999; font-size: 0.875rem; margin-bottom: 0.5rem;">
                                <i class="fas fa-star" style="color: #fbbf24;"></i> å¿«é€Ÿæ·»åŠ è§’è‰²ï¼š
                            </p>
                            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                <button type="button" class="character-quick-btn" onclick="insertCharacter('@sama')" style="background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%); color: white; border: none; padding: 0.4rem 0.8rem; border-radius: 0.5rem; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">
                                    <i class="fas fa-crown"></i> @sama
                                </button>
                                <button type="button" class="character-quick-btn" onclick="insertCharacter('@lahdevqrp.skybounddu')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 0.4rem 0.8rem; border-radius: 0.5rem; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">
                                    <i class="fas fa-cow"></i> å¥¶ç‰›
                                </button>
                                <button type="button" class="character-quick-btn" onclick="insertCharacter('@ggvdnqdfn.grizzlehat')" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none; padding: 0.4rem 0.8rem; border-radius: 0.5rem; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">
                                    <i class="fas fa-user-tie"></i> å…‰å¤´å¼º
                                </button>
                                <button type="button" class="character-quick-btn" onclick="insertCharacter('@tbqtyjnvb.bramblebea')" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; border: none; padding: 0.4rem 0.8rem; border-radius: 0.5rem; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;">
                                    <i class="fas fa-paw"></i> ç†Šå¤§
                                </button>
                            </div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
                        <div class="input-group">
                            <label class="input-label">æ¨¡å‹</label>
                            <select id="characterModelSelect" class="input-field">
                                <option value="sora-2">Sora-2 (åŸºç¡€)</option>
                                <option value="sora-2-characters">Sora-2-Characters (è§’è‰²ä¸“ç”¨)</option>
                                <option value="sora-2-landscape">Sora-2-Landscape (æ¨ªå±)</option>
                                <option value="sora-2-landscape-hd" selected>Sora-2-Landscape-HD (æ¨ªå±é«˜æ¸…)</option>
                                <option value="sora-2-portrait">Sora-2-Portrait (ç«–å±)</option>
                                <option value="sora-2-portrait-hd">Sora-2-Portrait-HD (ç«–å±é«˜æ¸…)</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label class="input-label">æ—¶é•¿</label>
                            <select id="characterDurationSelect" class="input-field">
                                <option value="10">10ç§’</option>
                                <option value="15">15ç§’</option>
                                <option value="25">25ç§’</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label class="input-label">æ–¹å‘</label>
                            <select id="characterOrientationSelect" class="input-field">
                                <option value="landscape">æ¨ªå±</option>
                                <option value="portrait">ç«–å±</option>
                            </select>
                        </div>
                    </div>

                    <button type="submit" id="generateCharacterVideoBtn" class="btn btn-primary" style="width: 100%;">
                        <i class="fas fa-play"></i>
                        <span>ç”Ÿæˆè§’è‰²è§†é¢‘</span>
                    </button>
                </form>
            </div>

            <!-- Character Video Result -->
            <div class="card">
                <div class="card-title">
                    <i class="fas fa-film"></i>
                    <span>ç”Ÿæˆçš„è§†é¢‘</span>
                </div>
                <div id="characterVideoContainer" class="media-container">
                    <div style="text-align: center; color: #666; max-width: 400px;">
                        <div style="width: 80px; height: 80px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, rgba(251, 191, 36, 0.2) 0%, rgba(245, 158, 11, 0.2) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-user-astronaut" style="font-size: 2rem; color: #fbbf24;"></i>
                        </div>
                        <p style="font-size: 1.125rem; color: #fff; margin-bottom: 0.5rem;">å‡†å¤‡ç”Ÿæˆè§’è‰²è§†é¢‘</p>
                        <p style="font-size: 0.875rem; color: #9ca3af; margin-bottom: 1rem;">é€‰æ‹©è§’è‰²å¹¶è¾“å…¥åœºæ™¯æè¿°ï¼ŒAI å°†ä¸ºä½ åˆ›ä½œä¸“å±è§†é¢‘</p>
                    </div>
                </div>

                <!-- Progress -->
                <div id="characterProgressIndicator" class="hidden progress-container">
                    <div class="progress-bar-outer">
                        <div id="characterProgressBar" class="progress-bar-inner" style="width: 0%"></div>
                    </div>
                    <p id="characterStatusText" style="color: #999; font-size: 0.875rem; margin-bottom: 0.5rem;">å¤„ç†ä¸­...</p>
                    <p id="characterElapsedTime" style="color: #666; font-size: 0.75rem;"></p>
                    <p id="characterEstimatedTime" style="color: #666; font-size: 0.75rem;"></p>
                </div>

                <!-- Video Player -->
                <div id="characterVideoPlayer" class="hidden" style="margin-top: 1rem; text-align: center;">
                    <div style="max-width: 800px; margin: 0 auto;">
                        <video id="characterGeneratedVideo" controls style="width: 100%; max-height: 60vh; border-radius: 0.75rem; background: #000; object-fit: contain;"></video>
                        <div style="display: flex; gap: 0.75rem; margin-top: 1rem;">
                            <button id="characterDownloadBtn" class="btn btn-secondary" style="flex: 1;">
                                <i class="fas fa-download"></i>
                                <span>ä¸‹è½½</span>
                            </button>
                            <button id="characterShareBtn" class="btn btn-secondary" style="flex: 1;">
                                <i class="fas fa-share"></i>
                                <span>åˆ†äº«</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Character List Section -->
        <div id="character-list-section" class="mode-section">
            <div class="header">
                <h1 class="header-title">æˆ‘çš„è§’è‰²</h1>
            </div>

            <div class="card">
                <div class="card-title">
                    <i class="fas fa-users"></i>
                    <span>è§’è‰²åˆ—è¡¨</span>
                </div>
                <div id="characterList">
                    <div style="text-align: center; color: #666; padding: 3rem 0;">
                        <div style="width: 100px; height: 100px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, rgba(251, 191, 36, 0.2) 0%, rgba(245, 158, 11, 0.2) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-user-astronaut" style="font-size: 2.5rem; color: #fbbf24;"></i>
                        </div>
                        <p style="font-size: 1.25rem; color: #fff; margin-bottom: 0.5rem;">åˆ›å»ºä½ çš„ä¸“å±è§’è‰²</p>
                        <p style="font-size: 0.875rem; color: #9ca3af; margin-bottom: 1.5rem; max-width: 400px; margin-left: auto; margin-right: auto;">
                            ä¸Šä¼ è§’è‰²è§†é¢‘ï¼ŒAI å°†å­¦ä¹ è§’è‰²ç‰¹å¾ï¼Œè®©ä½ å¯ä»¥åœ¨ä»»æ„åœºæ™¯ä¸­ä½¿ç”¨è¯¥è§’è‰²ç”Ÿæˆè§†é¢‘
                        </p>
                        <button onclick="document.querySelector('[data-mode=character-create]').click()" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); color: #78350f; border: none; padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 0.5rem; transition: all 0.2s;">
                            <i class="fas fa-plus"></i>
                            åˆ›å»ºç¬¬ä¸€ä¸ªè§’è‰²
                        </button>
                        <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid #2a2a2a;">
                            <p style="font-size: 0.75rem; color: #666; margin-bottom: 1rem;">âš ï¸ æ³¨æ„äº‹é¡¹</p>
                            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; font-size: 0.75rem; color: #9ca3af;">
                                <span style="background: #1f1f1f; padding: 0.5rem 1rem; border-radius: 0.5rem;">
                                    <i class="fas fa-ban" style="color: #ef4444; margin-right: 0.5rem;"></i>ä¸èƒ½ä½¿ç”¨çœŸäººè§†é¢‘
                                </span>
                                <span style="background: #1f1f1f; padding: 0.5rem 1rem; border-radius: 0.5rem;">
                                    <i class="fas fa-check" style="color: #22c55e; margin-right: 0.5rem;"></i>æ¨èåŠ¨ç”»/å¡é€šè§’è‰²
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Settings Modal -->
    <div id="settingsModal" class="hidden" style="position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 9999; display: flex; align-items: center; justify-content: center; padding: 1rem;">
        <div style="background: #141414; border: 1px solid #2a2a2a; border-radius: 1rem; max-width: 700px; width: 100%; padding: 2rem; position: relative; max-height: 90vh; overflow-y: auto;">
            <button id="closeSettings" style="position: absolute; top: 1rem; right: 1rem; background: transparent; border: none; color: #999; font-size: 1.5rem; cursor: pointer; width: 2rem; height: 2rem; display: flex; align-items: center; justify-content: center; border-radius: 0.5rem; transition: all 0.2s;">
                <i class="fas fa-times"></i>
            </button>

            <h2 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1.5rem; background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">è®¾ç½®ä¸ä½¿ç”¨æŒ‡å—</h2>

            <!-- Usage Flow Section -->
            <div style="background: linear-gradient(135deg, #1e3a8a 0%, #1e1b4b 100%); border: 1px solid #3b82f6; border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 2rem;">
                <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                    <i class="fas fa-info-circle" style="color: #60a5fa; margin-right: 0.75rem; font-size: 1.25rem;"></i>
                    <h3 style="color: #dbeafe; font-size: 1.125rem; font-weight: 600; margin: 0;">æœ¬ç«™ä½¿ç”¨æµç¨‹</h3>
                </div>

                <div style="display: flex; flex-wrap: wrap; gap: 0.75rem; align-items: center; justify-content: center;">
                    <a href="https://api.maynor1024.live/topup" target="_blank" rel="noreferrer" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #dbeafe; padding: 0.5rem 1rem; border-radius: 0.5rem; text-decoration: none; font-weight: 500; transition: all 0.2s; backdrop-filter: blur(10px); display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-credit-card" style="font-size: 0.875rem;"></i>
                        <span>å……å€¼ä½™é¢</span>
                        <span style="background: #fbbf24; color: #78350f; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600; margin-left: 0.25rem;">æ–°ç”¨æˆ·å¯è¯•ç”¨</span>
                    </a>

                    <span style="color: #93c5fd; font-size: 1.25rem; font-weight: bold;">|</span>

                    <a href="https://api.maynor1024.live/token" target="_blank" rel="noreferrer" style="back
                        <span>2. ç™»å½•ç³»ç»Ÿ</span>
                    </a>

                    <span style="color: #93c5fd; font-size: 1.25rem; font-weight: bold;">â†’</span>

                    <a href="https://api.maynor1024.live/topup" target="_blank" rel="noreferrer" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #dbeafe; padding: 0.5rem 1rem; border-radius: 0.5rem; text-decoration: none; font-weight: 500; transition: all 0.2s; backdrop-filter: blur(10px); display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-credit-card" style="font-size: 0.875rem;"></i>
                        <span>3. å……å€¼ä½™é¢</span>
                        <span style="background: #fbbf24; color: #78350f; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600; margin-left: 0.25rem;">æ–°ç”¨æˆ·å¯è¯•ç”¨</span>
                    </a>

                    <span style="color: #93c5fd; font-size: 1.25rem; font-weight: bold;">â†’</span>

                    <a href="https://api.maynor1024.live/token" target="_blank" rel="noreferrer" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); border: 2px solid #fbbf24; color: #78350f; padding: 0.5rem 1rem; border-radius: 0.5rem; text-decoration: none; font-weight: 700; transition: all 0.2s; display: flex; align-items: center; gap: 0.5rem; box-shadow: 0 0 20px rgba(251,191,36,0.3); position: relative; overflow: hidden;">
                        <i class="fas fa-key" style="font-size: 1rem; animation: pulse 2s infinite;"></i>
                        <span>4. è·å–APIä»¤ç‰Œ</span>
                        <span style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent); animation: shine 3s infinite;"></span>
                    </a>
                </div>

                <p style="color: #93c5fd; font-size: 0.875rem; margin-top: 1rem; text-align: center; font-style: italic;">
                    <i class="fas fa-lightbulb" style="margin-right: 0.5rem;"></i>
                    è·å–ä»¤ç‰Œåï¼Œè¯·åœ¨ä¸‹æ–¹å¡«å…¥ä»¥å¼€å§‹ä½¿ç”¨AIç”ŸæˆåŠŸèƒ½
                </p>
            </div>

            <!-- API Configuration Section -->
            <div style="border: 1px solid #2a2a2a; border-radius: 0.75rem; padding: 1.5rem; background: #0a0a0a;">
                <div style="margin-bottom: 1rem;">
                    <h3 style="color: #fff; font-size: 1.125rem; font-weight: 600; margin: 0; display: flex; align-items: center;">
                        <i class="fas fa-cog" style="margin-right: 0.5rem; color: #8b5cf6;"></i>
                        API é…ç½®
                    </h3>
                </div>

                <div class="input-group">
                    <label class="input-label" style="display: flex; align-items: center; justify-content: space-between;">
                        <span>API å¯†é’¥</span>
                        <div class="tooltip-wrapper">
                            <i class="fas fa-question-circle tooltip-icon"></i>
                            <div class="tooltip right tooltip-content">
                                <strong>APIå¯†é’¥è·å–æ­¥éª¤ï¼š</strong><br>
                                1. å®Œæˆæ³¨å†Œå’Œç™»å½•<br>
                                2. å……å€¼è´¦æˆ·ä½™é¢<br>
                                3. åœ¨æ§åˆ¶å°ç”ŸæˆAPIä»¤ç‰Œ<br>
                                4. å¤åˆ¶ä»¤ç‰Œåˆ°æ­¤å¤„å¡«å†™
                            </div>
                        </div>
                    </label>
                    <input type="password" id="apiKeyInput" class="input-field" placeholder="è¯·è¾“å…¥æ‚¨çš„APIä»¤ç‰Œï¼Œç•™ç©ºä½¿ç”¨å†…ç½®å¯†é’¥" style="padding-right: 3rem;" />
                    <button id="toggleApiKey" type="button" style="position: absolute; right: 1rem; top: 2.75rem; background: transparent; border: none; color: #666; cursor: pointer; padding: 0.5rem;">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>

                <div style="background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 0.5rem; padding: 1rem; margin-top: 1rem;">
                    <p style="color: #a78bfa; font-size: 0.875rem; margin: 0; display: flex; align-items: flex-start;">
                        <i class="fas fa-info-circle" style="margin-right: 0.5rem; margin-top: 0.125rem;"></i>
                        <span>
                            <strong>é…ç½®è¯´æ˜ï¼š</strong><br>
                            â€¢ ç»Ÿä¸€ä½¿ç”¨ https://api.maynor1024.live/ API<br>
                            â€¢ å¡«å†™ä½ çš„ API Key å³å¯å¼€å§‹ä½¿ç”¨<br>
                            â€¢ ç•™ç©ºå°†ä½¿ç”¨å†…ç½®å…è´¹å¯†é’¥
                        </span>
                    </p>
                </div>
            </div>

            <!-- Action Buttons -->
            <div style="display: flex; gap: 0.75rem; margin-top: 2rem;">
                <button id="saveSettings" class="btn btn-primary" style="flex: 1;">
                    <i class="fas fa-save"></i>
                    <span>ä¿å­˜è®¾ç½®</span>
                </button>
                <button id="resetSettings" class="btn btn-secondary">
                    <i class="fas fa-undo"></i>
                    <span>æ¢å¤é»˜è®¤</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Floating Help Button -->
    <div id="floatingHelp" style="position: fixed; bottom: 24px; right: 24px; z-index: 9998;">
        <button onclick="document.getElementById('helpMenu').classList.toggle('hidden')" style="width: 56px; height: 56px; border-radius: 50%; background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%); border: none; color: #fff; font-size: 1.5rem; cursor: pointer; box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4); transition: all 0.3s; display: flex; align-items: center; justify-content: center;">
            <i class="fas fa-question"></i>
        </button>
        <div id="helpMenu" class="hidden" style="position: absolute; bottom: 70px; right: 0; background: #1a1a2e; border: 1px solid #2a2a2a; border-radius: 12px; padding: 0.5rem; min-width: 200px; box-shadow: 0 10px 40px rgba(0,0,0,0.5);">
            <div style="padding: 0.75rem 1rem; cursor: pointer; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onmouseover="this.style.background='#2a2a3e'" onmouseout="this.style.background='transparent'" onclick="window.startOnboarding && window.startOnboarding(); document.getElementById('helpMenu').classList.add('hidden');">
                <i class="fas fa-play-circle" style="color: #8b5cf6;"></i>
                <span style="color: #e2e8f0; font-size: 0.875rem;">é‡æ–°æŸ¥çœ‹å¼•å¯¼</span>
            </div>
            <div style="padding: 0.75rem 1rem; cursor: pointer; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onmouseover="this.style.background='#2a2a3e'" onmouseout="this.style.background='transparent'" onclick="document.getElementById('settingsBtn').click(); document.getElementById('helpMenu').classList.add('hidden');">
                <i class="fas fa-cog" style="color: #fbbf24;"></i>
                <span style="color: #e2e8f0; font-size: 0.875rem;">API è®¾ç½®</span>
            </div>
            <div style="height: 1px; background: #2a2a2a; margin: 0.5rem 0;"></div>
            <div style="padding: 0.75rem 1rem; cursor: pointer; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onmouseover="this.style.background='#2a2a3e'" onmouseout="this.style.background='transparent'" onclick="window.open('https://apipro.maynor1024.live/register', '_blank'); document.getElementById('helpMenu').classList.add('hidden');">
                <i class="fas fa-user-plus" style="color: #22c55e;"></i>
                <span style="color: #e2e8f0; font-size: 0.875rem;">æ³¨å†Œè´¦å·</span>
            </div>
            <div style="padding: 0.75rem 1rem; cursor: pointer; border-radius: 8px; transition: background 0.2s; display: flex; align-items: center; gap: 0.75rem;" onmouseover="this.style.background='#2a2a3e'" onmouseout="this.style.background='transparent'" onclick="window.open('https://apipro.maynor1024.live/console/token', '_blank'); document.getElementById('helpMenu').classList.add('hidden');">
                <i class="fas fa-key" style="color: #f59e0b;"></i>
                <span style="color: #e2e8f0; font-size: 0.875rem;">è·å– API ä»¤ç‰Œ</span>
            </div>
        </div>
    </div>

    <!-- Add custom CSS animations -->
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        #settingsModal a:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        #closeSettings:hover {
            background: rgba(255, 255, 255, 0.1) !important;
            color: #fff !important;
        }

        .input-group {
            position: relative;
        }

        #floatingHelp button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(139, 92, 246, 0.5);
        }

        /* é¦–æ¬¡è®¿é—®æç¤ºåŠ¨ç”» */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .first-visit-hint {
            animation: bounce 2s ease-in-out infinite;
        }

        /* è§’è‰²å¿«é€Ÿé€‰æ‹©æŒ‰é’®æ ·å¼ */
        .character-quick-btn {
            transition: all 0.2s ease;
        }

        .character-quick-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            opacity: 0.9;
        }

        .character-quick-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }
    </style>

    <!-- Scripts -->
    <script src="i18n.js"></script>
    <script src="app.js"></script>
    <script>
        // Mode switching
        document.querySelectorAll('.nav-item[data-mode]').forEach(item => {
            item.addEventListener('click', () => {
                // Remove active class from all items
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                // Add active class to clicked item
                item.classList.add('active');

                // Hide all sections
                document.querySelectorAll('.mode-section').forEach(s => s.classList.remove('active'));

                // Show selected section
                const mode = item.getAttribute('data-mode');
                document.getElementById(`${mode}-section`)?.classList.add('active');
            });
        });

        // Language toggle
        document.getElementById('langToggle')?.addEventListener('click', (e) => {
            e.stopPropagation();
            document.getElementById('langMenu')?.classList.toggle('hidden');
        });

        function switchLanguage(lang) {
            window.i18n?.setLanguage(lang);
            document.getElementById('currentLangText').textContent = lang === 'zh' ? 'ä¸­æ–‡' : 'English';
            document.getElementById('langMenu')?.classList.add('hidden');
        }

        // Settings modal
        document.getElementById('settingsBtn')?.addEventListener('click', () => {
            document.getElementById('settingsModal')?.classList.remove('hidden');
        });

        document.getElementById('closeSettings')?.addEventListener('click', () => {
            document.getElementById('settingsModal')?.classList.add('hidden');
        });

        // Click outside to close
        document.addEventListener('click', (e) => {
            if (!e.target.closest('#langToggle') && !e.target.closest('#langMenu')) {
                document.getElementById('langMenu')?.classList.add('hidden');
            }
        });

        // Style preset buttons
        document.querySelectorAll('.style-preset-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const style = btn.getAttribute('data-style');
                const editPrompt = document.getElementById('editPrompt');
                if (editPrompt) {
                    editPrompt.value = style;
                }

                // Visual feedback
                document.querySelectorAll('.style-preset-btn').forEach(b => {
                    b.style.background = '#1a1a1a';
                    b.style.borderColor = '#2a2a2a';
                    b.style.color = '#999';
                });
                btn.style.background = 'linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)';
                btn.style.borderColor = '#8b5cf6';
                btn.style.color = '#fff';
            });
        });

        // Add hover effect to style preset buttons
        const styleButtons = document.querySelectorAll('.style-preset-btn');
        styleButtons.forEach(btn => {
            btn.addEventListener('mouseenter', () => {
                if (btn.style.background !== 'linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)') {
                    btn.style.background = '#2a2a2a';
                    btn.style.color = '#fff';
                }
            });
            btn.addEventListener('mouseleave', () => {
                if (btn.style.background !== 'linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)') {
                    btn.style.background = '#1a1a1a';
                    btn.style.color = '#999';
                }
            });
        });
    </script>
    <script src="tooltip.js"></script>
    <script src="character.js"></script>
    <script src="onboarding.js"></script>
    
    <!-- Debug: Test Onboarding Button (Remove in production) -->
    <script>
        // æ·»åŠ é”®ç›˜å¿«æ·é”®ï¼šæŒ‰ Ctrl+Shift+H é‡æ–°æ˜¾ç¤ºå¼•å¯¼
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && e.key === 'H') {
                console.log('[Debug] Resetting onboarding...');
                if (window.resetOnboarding) {
                    window.resetOnboarding();
                }
            }
        });
        
        // é¡µé¢åŠ è½½åæ£€æŸ¥å¼•å¯¼çŠ¶æ€
        window.addEventListener('load', () => {
            console.log('[Debug] Page loaded, checking onboarding status');
            const completed = localStorage.getItem('sora2-onboarding-completed');
            console.log('[Debug] Onboarding completed:', completed);
            
            // æ·»åŠ å…¨å±€è°ƒè¯•å‡½æ•°
            window.debugOnboarding = {
                reset: () => {
                    localStorage.removeItem('sora2-onboarding-completed');
                    localStorage.removeItem('sora2-feature-tips-shown');
                    localStorage.removeItem('sora2-api-reminder-shown');
                    console.log('[Debug] All onboarding data cleared');
                    location.reload();
                },
                start: () => {
                    if (window.startOnboarding) {
                        window.startOnboarding();
                    } else {
                        console.error('[Debug] startOnboarding not available');
                    }
                },
                status: () => {
                    console.log('[Debug] Onboarding Status:');
                    console.log('  - Completed:', localStorage.getItem('sora2-onboarding-completed'));
                    console.log('  - Tips shown:', localStorage.getItem('sora2-feature-tips-shown'));
                    console.log('  - API reminder:', localStorage.getItem('sora2-api-reminder-shown'));
                }
            };
            
            console.log('[Debug] è°ƒè¯•å‘½ä»¤å·²åŠ è½½ï¼Œä½¿ç”¨æ–¹æ³•ï¼š');
            console.log('  - debugOnboarding.reset()  // é‡ç½®å¼•å¯¼');
            console.log('  - debugOnboarding.start()  // å¯åŠ¨å¼•å¯¼');
            console.log('  - debugOnboarding.status() // æŸ¥çœ‹çŠ¶æ€');
        });
    </script>
</body>
</html>
