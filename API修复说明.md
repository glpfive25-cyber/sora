# Sora-2 API 修复说明

## 修复内容

根据官方 API 文档，已将视频生成接口修改为正确的格式。

## API 规范

### 模型
- `sora-2`: 基础模型，支持 10 秒视频
- `sora-2-pro`: 专业模型，支持 15 秒、25 秒和高清视频

### 参数格式

```json
{
  "prompt": "视频描述",
  "model": "sora-2",
  "aspect_ratio": "16:9",  // 横屏 16:9，竖屏 9:16
  "duration": "10",        // 字符串格式："10", "15", "25"
  "hd": false,             // 是否高清（仅 sora-2-pro 支持）
  "watermark": false,      // 是否添加水印
  "private": false         // 是否隐藏视频
}
```

## 前端选项映射

| 用户选择 | 实际模型 | aspect_ratio | duration |
|---------|---------|--------------|----------|
| Sora-2 横屏 10秒 | sora-2 | 16:9 | "10" |
| Sora-2 竖屏 10秒 | sora-2 | 9:16 | "10" |
| Sora-2-Pro 横屏 15秒 | sora-2-pro | 16:9 | "15" |
| Sora-2-Pro 竖屏 15秒 | sora-2-pro | 9:16 | "15" |

## 修改的文件

1. **public/app.js**
   - 修正了模型名称映射逻辑
   - 使用正确的 `aspect_ratio` 参数（而不是 `orientation`）
   - 使用字符串格式的 `duration` 参数
   - 根据时长自动选择 `sora-2` 或 `sora-2-pro`

2. **public/index.html**
   - 简化了模型选择下拉菜单
   - 清晰标注了使用的模型类型

## 注意事项

- **10 秒视频**：使用 `sora-2`，生成时间约 1-3 分钟
- **15 秒视频**：使用 `sora-2-pro`，生成时间约 3-5 分钟
- **高清视频**：仅 `sora-2-pro` 支持，会增加约 8 分钟生成时间
- **25 秒视频**：仅 `sora-2-pro` 支持，且不支持高清

## 测试建议

1. 首选 **Sora-2 横屏 10秒**，成功率最高
2. 避免在高峰期使用 15 秒选项
3. 提示词保持简洁清晰
