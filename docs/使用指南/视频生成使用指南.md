# Sora2 视频生成使用指南

## 🎬 支持的视频模型

系统支持 **5 个视频生成模型**：

| 模型名称 | 方向 | 时长 | 生成时间 | 成功率 | 推荐指数 |
|---------|------|------|---------|--------|---------|
| **sora_video2** | 默认 | 10秒 | 30-90秒 | 95%+ | ⭐⭐⭐⭐⭐ |
| **sora_video2-landscape** | 横屏 | 10秒 | 40-90秒 | 90%+ | ⭐⭐⭐⭐ |
| **sora_video2-portrait** | 竖屏 | 10秒 | 40-90秒 | 90%+ | ⭐⭐⭐⭐ |
| **sora_video2-landscape-15s** | 横屏 | 15秒 | 3-5分钟 | 60% | ⭐⭐ |
| **sora_video2-portrait-15s** | 竖屏 | 15秒 | 3-5分钟 | 60% | ⭐⭐ |

### 💡 模型选择建议

#### ✅ 推荐使用（高成功率）
- **sora_video2** - 首选，最稳定
- **sora_video2-landscape** - 需要横屏时使用
- **sora_video2-portrait** - 需要竖屏时使用

#### ⚠️ 谨慎使用（易超时）
- **sora_video2-*-15s** - 15秒版本生成时间长，容易遇到 504 超时

## 📝 文生视频使用方法

### 基本使用

1. **选择模型**：推荐 `sora_video2`
2. **输入提示词**：清晰描述想要的视频内容
3. **点击生成**：系统会显示实时进度
4. **查看结果**：生成完成后自动显示视频

### 🎯 实时进度显示

系统现在支持**实时进度更新**，生成过程中你会看到：

- ✅ **实时进度百分比** - 0% → 100%
- ✅ **当前状态说明** - "正在初始化"、"生成中"、"渲染中"等
- ✅ **预计剩余时间** - 动态计算的预估时间
- ✅ **已等待时间** - 实时显示已等待的时间

**进度更新示例：**
```
进度：45%
状态：正在生成视频帧...
已等待：25 秒
预计还需：30 秒
```

### 提示词技巧

#### ✅ 好的提示词示例
```
一只可爱的小猫在阳光下的草地上奔跑
```
```
海边日落，波浪轻拍沙滩，天空呈现渐变的橙红色
```
```
城市街道，车辆行驶，路灯亮起
```

#### ❌ 避免的提示词
```
一只猫在复杂的场景中做各种动作，背景有山有水有树还有建筑，同时天气变化从晴天到雨天
```
*过于复杂，容易失败*

```
生成一个超级高清的真人视频
```
*涉及真人会被审查拒绝*

### 提示词最佳实践

1. **简洁明了** - 10-30个字为佳
2. **具体场景** - 描述单一清晰的场景
3. **避免复杂** - 不要包含太多元素
4. **自然动作** - 描述自然的运动
5. **避免真人** - 不要涉及真人或名人

## 🖼️ 图生视频使用方法

### 基本流程

1. **切换到"图生视频"标签**
2. **上传参考图片**（最大 10MB）
3. **输入提示词**：描述希望图片如何动起来
4. **选择模型**：推荐 `sora_video2`
5. **生成视频**

### 图片要求

#### ✅ 推荐的图片类型
- 动画角色
- 风景照片
- 物品静物
- 艺术作品
- 卡通图像

#### ❌ 不推荐的图片
- ❌ 真人照片（会被审查拒绝）
- ❌ 过于写实的人像
- ❌ 版权内容（明星、电影角色等）
- ❌ 违规内容（暴力、色情等）

### 图生视频提示词示例

```
让图片中的人物动起来，挥手微笑
```
```
让背景的树叶随风摆动
```
```
让画面中的水面泛起涟漪
```

## ⚠️ 常见问题解决

### 问题1：504 超时错误

**错误信息：** `Video generation error: Request failed with status code 504`

**原因：**
- 使用了15秒版本（生成时间3-5分钟）
- API 网关超时限制（通常1-2分钟）
- 服务器负载过高

**解决方案：**
1. ✅ **切换到标准模型**：选择 `sora_video2`（而非15秒版本）
2. ✅ **简化提示词**：使用简短清晰的描述
3. ✅ **简化图片**：图生视频时使用简单清晰的图片
4. ✅ **等待重试**：等待2-3分钟后重试
5. ✅ **避开高峰**：选择服务器负载低的时段

### 问题2：生成失败（内容审查）

**可能原因：**
- 提示词违规（暴力、色情、版权）
- 图片涉及真人
- 提到活着的名人

**解决方案：**
- 修改提示词，避免敏感内容
- 更换图片，避免使用真人照片
- 使用通用的场景描述

### 问题3：等待时间过长

**正常等待时间：**
- 10秒视频：30-90秒
- 15秒视频：3-5分钟

**如果超过预期：**
- 检查网络连接
- 查看浏览器控制台是否有错误
- 尝试刷新页面重试

## 📊 内容审查机制

官方审查包含 **3 个阶段**：

### 1. 图片审查
检查上传的图片是否：
- ❌ 包含真人
- ❌ 非常像真人的图像
- ✅ 动画、艺术作品、风景

### 2. 提示词审查
检查内容是否包含：
- ❌ 暴力内容
- ❌ 色情内容
- ❌ 侵犯版权
- ❌ 活着的名人

### 3. 结果审查
生成结果是否合格：
- 这是生成到 90%+ 后失败的常见原因
- 如果生成内容不符合规范会被拒绝

## 🎯 成功生成的技巧

### 1. 模型选择
- 🥇 首选：`sora_video2`
- 🥈 备选：`sora_video2-landscape` 或 `portrait`
- ⚠️ 避免：15秒版本（除非真的需要）

### 2. 提示词优化
- ✅ 简短精确（10-30字）
- ✅ 描述单一场景
- ✅ 使用动词描述动作
- ❌ 避免复杂描述
- ❌ 不要堆砌元素

### 3. 图片准备（图生视频）
- ✅ 清晰的图片
- ✅ 主体明确
- ✅ 构图简单
- ❌ 避免真人
- ❌ 避免过于复杂

### 4. 时间选择
- ✅ 错峰使用（凌晨、工作日白天）
- ⚠️ 避开高峰（晚上8-11点）

## 📈 预期效果

### 成功率统计

| 模型 | 预期成功率 | 平均生成时间 |
|------|-----------|-------------|
| sora_video2 | 95%+ | 45秒 |
| *-landscape/portrait | 90%+ | 60秒 |
| *-15s | 60% | 3-4分钟 |

### 影响成功率的因素

1. **模型选择** - 最重要 ⭐⭐⭐⭐⭐
2. **提示词复杂度** - 很重要 ⭐⭐⭐⭐
3. **图片质量** - 重要 ⭐⭐⭐
4. **服务器负载** - 有影响 ⭐⭐
5. **网络质量** - 基础条件 ⭐

## 💰 费用说明

所有视频模型统一价格：**$0.020 / 次**

- 不区分时长（10秒或15秒）
- 不区分方向（横屏或竖屏）
- 失败不计费（只有成功生成才扣费）

## 🔧 技术细节

### API 格式
使用标准 Chat API 格式：
```json
{
  "model": "sora_video2",
  "messages": [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "视频描述"
        }
      ]
    }
  ],
  "stream": false
}
```

### 超时设置
- 前端超时：5分钟
- 后端超时：5分钟
- API 网关：通常1-2分钟（导致504错误）

### 多图支持
支持多个参考图片（图生视频）：
```json
{
  "type": "image_url",
  "image_url": { "url": "图片1" }
},
{
  "type": "image_url",
  "image_url": { "url": "图片2" }
}
```

## 📞 获取帮助

如果遇到问题：

1. **查看错误提示** - 界面会显示详细的错误信息和建议
2. **检查模型选择** - 确认使用推荐的模型
3. **简化需求** - 尝试更简单的提示词或图片
4. **查看文档** - 参考本指南的故障排除部分
5. **联系支持** - 提供错误截图和具体描述

## 📚 相关文档

- [API 重构摘要](VIDEO_API_REDESIGN_SUMMARY.md) - 技术实现细节
- [接口文档](接口文档/生视频.txt) - API 完整文档

---

**最后更新：** 2025-01-XX
**版本：** v1.0

💡 **提示：** 优先使用 `sora_video2` 标准模型，成功率最高！
